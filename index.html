<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="icon/css/all.min.css">
    <link rel="stylesheet" href="style/bootstrap.min.css">
    <link rel="stylesheet" href="style/style.css">
    <script src="js/jquery-3.6.0.min.js"></script>

</head>
<body>

    <div class="fixed-menu">
        <ul>
         <!-- <li>
             <a href="">Home</a>
         </li>
         <li>
             <a href="">Apple</a>
         </li>
         <li>
             <a href="">Tesla</a>
         </li>
         <li>
             <a href="">Google</a>
         </li> -->
        </ul>
     </div>
    <div class="container-fluid bar1">
        <div class="container">
            <div class="row">
                <div class="col-xl-12 col-lg-12 menu-box">
                <ul class="ul1">

                    <li id="btnMenu"> 
                        <a href="#"><i class="fa-solid fa-bars"></i></a>
                        
                    </li>
                    <li>
                        <a href=""><i class="fas fa-home"></i></a>
                        
                    </li>

                    <!-- <li>
                        <a href="">Apple</a>
                        <ul class="sub-menu">
                            <li>
                                <a href="">Apple1</a>
                            </li>
                            <li>
                                <a href="">Apple2</a>
                            </li>
                            <li>
                                <a href="">Apple3</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Tesla</a>
                        <ul class="sub-menu">
                            <li>
                                <a href="">Tesla1</a>
                            </li>
                            <li>
                                <a href="">Tesla2</a>
                            </li>
                            <li>
                                <a href="">Tesla3</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Google</a>
                        <ul class="sub-menu">
                            <li>
                                <a href="">Google1</a>
                            </li>
                            <li>
                                <a href="">Google2</a>
                            </li>
                            <li>
                                <a href="">Google3</a>
                            </li>
                        </ul>
                    </li> -->
                    
                </ul>    
                </div>
            </div>
        </div>
    </div>
    <!-- Todo with left-bar -->
     <div class="container data-container">
        <div class="row">
            <div class="col-xl-3 left-menu">
                <div class="box">
                    <ul>

                        <!-- <li>
                            <a href="">Apple <i class="fas fa-plus"></i></a>
                            <div class="left-sub-menu">
                                <ul>
                                    <li>
                                        <a href="">Apple1</a>
                                    </li>
                                    <li>
                                        <a href="">Apple2</a>
                                    </li>
                                    <li>
                                        <a href="">Apple3</a>
                                    </li>
                                </ul>

                            </div>
                        </li> -->
<!-- 
                        <li>
                            <a href="">Google <i class="fas fa-plus"></i></a>
                            <div class="left-sub-menu">
                                <ul>
                                    <li>
                                        <a href="">Google1</a>
                                    </li>
                                    <li>
                                        <a href="">Google2</a>
                                    </li>
                                    <li>
                                        <a href="">Google3</a>
                                    </li>
                                </ul>

                            </div>
                        </li>
                        <li>
                            <a href="">Tesla <i class="fas fa-plus"></i></a>
                            <div class="left-sub-menu">
                                <ul>
                                    <a href="">Tesla1</a>
                                </ul>
                                <ul>
                                    <a href="">Tesla2</a>
                                </ul>
                                <ul>
                                    <a href="">Tesla3</a>
                                </ul>
                            </div>
                        </li> -->
                    </ul>
                </div>
            </div>
            <div class="col-xl-9">
                Silder Container
            </div>
             
        </div>
     </div>

</body>
<script>
    
    const item =[
         {
            "name":"Home",
            "sub-menu":[
                {"name":"Apple"},
                {"name":"Tesla"},
                {"name":"Google"},
            ],

         },
         {
            "name":"Apple",
            "sub-menu":[
                {"name":"Apple1"},
                {"name":"Apple2"},
                {"name":"Apple3"},
            ],
         },
         {
            "name":"Tesla",
            "sub-menu":[
                {"name":"Tesla1"},
                {"name":"Tesla2"},
                {"name":"Tesla3"},
            ],
         },
         {
            "name":"Google",
            "sub-menu":[
                {"name":"Google1"},
                {"name":"Google2"},
                {"name":"Google3"},
            ],
         },
         {
            "name":"Microsoft",
            "sub-menu":[
                {"name":"Microsoft1"},
                {"name":"Microsoft2"},
                {"name":"Microsoft3"},
            ],
         },
    ];


    $(document).ready(function(){
        var popup = '<div class="popup"></div>';
        getItemMenu();
        getLeftMenu();
        getleftMeunBoxIn();

        function getleftMeunBoxIn(){
            var txt = "";
            for(i in item){
               txt +=`
                <li>
                    <a href="#" class="m1">${item[i]['name']}<i class="fas fa-plus"></i></a>
                </li> 
               `;
            }
            $('.left-menu').find('.box ul').append(txt);
        }
        $('.left-menu').on('click','.m1',function(){
            var eThis = $(this);
            var parent = eThis.parent();
            var index = parent.index();
            var subMenu  =  item[index]['sub-menu'];
            var txt = "";
            for(i in subMenu){
                txt +=`
                    <li>
                        <a href="">${subMenu[i]['name']}</a>
                    </li>
                `;
            }
            var numberSubMenu = parent.find('.left-sub-menu').length;
            if(numberSubMenu == 0){
                eThis.find('i').removeClass('fa-plus');
                eThis.find('i').addClass('fa-minus');
                parent.append(
                        `
                        <div class="left-sub-menu">
                            <ul>
                                ${txt}                      
                            </ul>
                        </div>
                    `
                );
            }else
            alert("Already");
            
        });

        function getItemMenu(){
        var menu = "";
        for(i in item){
            var subMenu = item[i]['sub-menu'];
            var txt = "";
            for(x in subMenu){
                txt +=`
                <li>
                    <a href="">
                        ${subMenu[x]['name']}
                    </a>
                </li>
                `;
            }
            menu +=`
                <li>
                    <a href="">${item[i]['name']}</a>
                    <ul class='sub-menu'>
                        ${txt}
                    </ul>
                </li>
            `;
        }
        $(".menu-box").find(".ul1").append(menu); 
        }

        function getLeftMenu(){
            var txt = "";
            for(i in item){
                txt  +=`
                    <li>
                        <a href="">${item[i]['name']}</a>
                    </li>
                `;
            }
            $(".fixed-menu").find('ul').html(txt);
        }

         //show fixed menu-bars.
         $('#btnMenu').click(function(){
            $(".fixed-menu").css({"left":"0"});
            $("body").append(popup);
         });
         //close fixed menu-bars in body.
         $('body').on('click','.popup',function(){
             $(this).remove();
             $(".fixed-menu").css({"left":"-253px"});
         });
        
    });
   
</script>
</html>